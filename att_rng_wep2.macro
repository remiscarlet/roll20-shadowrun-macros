/me &{template:shadowrun}{{name=@{selected|character_name}}}{{roll_name=an Attack with @{selected|weaponname2}}}{{val1=Agility}}{{val1_num=[[@{selected|agi_total}]]}}{{val2=@{selected|weaponskillname2}}}{{val2_num=[[@{selected|weaponcategory2}+@{selected|weaponbonus2}+@{selected|weaponspec2}-(@{selected|agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{selected|weaponrc2}+ceil((@{selected|str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{selected|edgeroll}}}{{edge_num=[[@{selected|edg_total}]]}}{{wounds_num=[[floor({@{selected|bar2}+@{selected|bar3}}/3)]]}}{{limit=Accuracy}}{{limit_num=[[@{selected|weaponaccuracy2}]]}}{{result=[[(@{selected|weapondice2}+?{Situational Modifiers|0}-[[floor({@{selected|bar2}+@{selected|bar3}}/3)]]+[[@{selected|edgn}*@{selected|edg_total}]])@{selected|standardroll}@{selected|edgeroll}kh@{selected|weaponaccuracy2}]]}}{{after1=AP([[@{selected|weaponap2}]]) ~ DV}}{{after1_num=[[@{selected|weapondv2}]]}}{{after1dmg=@{selected|weapondmgtype2}}}
